<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta charset="UTF-8">
<title>Pedido</title>
<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
</head>
<body>
	<!-- Nav bar/Header -->
	<nav class="navbar navbar-expand-md navbar-dark bg-dark">
		<div class="container">
			<a id="mero" class="navbar-brand h1 mb-0" href="#">Mero Sushi</a>
			<buttom class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarSite"> <span
				class="navbar-toggler-icon"></span> </buttom>
			<div class="collapse navbar-collapse" id="navbarSite">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item dropdown"><a
						class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
						role="button" data-toggle="dropdown" aria-haspopup="true"
						aria-expanded="false"> Pratos </a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" href="/prato/formPrato">Cadastrar
								Prato</a> <a class="dropdown-item" href="#">Ver todos os Pratos</a>
							<div class="dropdown-divider"></div>
						</div></li>
					<li class="nav-item"><a class="nav-link" href="#">Pedido</a></li>
					<li class="nav-item"><a class="nav-link"
						href="/cliente/formCliente">Cliente</a></li>
				</ul>
				<ul class="navbar-nav ml-auto">
					<li class="nav-item"><a class="nav-link" href="/logout"> <span
							class="fas fa-user"></span> Sign Up
					</a></li>
					<li class="nav-item"><a class="nav-link" href="/cliente/logar">
							<span class="fas fa-sign-in-alt"></span> Login
					</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<!-- Carousel do restaurante -->
	<div id="carouselRest" class="carousel slide" data-ride="carousel">

		<ol class="carousel-indicators">
			<li data-target="#carouselRest" data-slide-to="0" class="active"></li>
			<li data-target="#carouselRest" data-slide-to="1"></li>
			<li data-target="#carouselRest" data-slide-to="2"></li>
		</ol>

		<div class="carousel-inner">
			<div class="carousel-item active">
				<img src="/img/temaki.jpg" class="img-fluid d-block">
			</div>

			<div class="carousel-item">
				<img src="/img/lugar.jpg" class="img-fluid d-block">
			</div>

			<div class="carousel-item">
				<img src="/img/2.jpg" class="img-fluid d-block">
			</div>
		</div>

		<a class="carousel-control-prev" href="#carouselRest"
			data-slide="prev"> <span class="carousel-control-prev-icon"></span>
			<span class="sr-only">Anterior</span>
		</a> <a class="carousel-control-next" href="#carouselRest"
			data-slide="next"> <span class="carousel-control-next-icon"></span>
			<span class="sr-only">Próximo</span>
		</a>
	</div>

		<main role="main">
	<div class="container d-flex justify-content-center p-5">
		<div class="row p-5">
			<div th:each="pedido : ${pedidos}">
				<div class="modal fade" th:id="'modal'+${pedido.idPedido}" tabindex="-1"
					role="dialog" aria-labelledby="classInfo" aria-hidden="true">
					<div class="modal-dialog modal-lg" role="document">
						<div class="modal-content text-center itens-pedido">
							<h1>Itens do Pedido</h1>
							<!--Content-->
							<div class="modal-content">
								<!--Body-->
								<div style="max-height: 600px; overflow-y: scroll;"
									class="modal-body p-3">
									<table class="table">
										<thead class="thead-dark table-pedido">
											<tr>
												<th scope="col">NOME</th>
												<th scope="col">QUANTIDADE</th>
												<th scope="col">TOTAL PREÇO</th>
												<th scope="col"></th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="itens : ${pedido.pedidosM}">
												<td th:text="*{itens.prato.nome}">Nome</td>
												<td th:text="*{itens.quantidade}">Quantidade</td>
												<td
													th:text="'R$ ' + ${#numbers.formatDecimal(itens.precoTotal, 0, 'COMMA', 2, 'POINT')}">Preço</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>

							<!--Footer-->
							<div class="modal-footer">
								<a data-dismiss="modal" style="color: white;"
									class="btn btn-secondary btn-rounded">Fechar</a>
							</div>
						</div>
						<!--/.Content-->
					</div>
				</div>
			</div>
		</div>
		<table class="table">
			<thead class="thead-dark table-pedido">
				<tr>
					<th scope="col">ID PEDIDO</th>
					<th scope="col">DATA PEDIDO</th>
					<th scope="col">ENDEREÇO</th>
					<th scope="col">TOTAL PEDIDO</th>
					<th scope="col"></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="pedido : ${pedidos}">
					<td th:text="${pedido.id}"></td>
					<td th:text="${pedido.dataPedido}"></td>
					<td th:text="${pedido.endereco}"></td>
					<td
						th:text="'R$' + ${#numbers.formatDecimal(pedido.total, 0, 'COMMA', 2, 'POINT')}"></td>
					<td><a data-toggle="modal"
						th:attr="data-target='#modal'+${pedido.id}"
						class="btn btn-outline-secondary  
									card-prato-text">Ver
							Mais</a></td>
				</tr>
			</tbody>
		</table>
	</div>
	</main>


	<script src="/js/jquery.js"></script>
	<script src="/js/bootstrap.min.js"></script>
</body>
</html>